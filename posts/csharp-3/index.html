<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> C# 3 - the One with LINQ | Ash Midgley</title>
  <meta name="description" content="Full stack web developer based in Wellington, New Zealand.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="C# 3 - the One with LINQ" />
<meta property="og:description" content="C# 3 was released in November 2007 with Visual Studio 2008. Pretty much all the features introduced build into LINQ. I can&rsquo;t cover them all so I&rsquo;ll just look to cover implicit typing, object and collection initializers, anonymous types and finish with a quick look at usage of LINQ.
Implicit Typing Say we have a big ol&#39; Dictionary initialization:
Dictionary&lt;int, List&lt;string&gt;&gt; mapping = new Dictionary&lt;int, List&lt;string&gt;&gt;();You may be thinking to yourself &ldquo;geez that takes up a load of room&rdquo;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ashmidgley.github.io/posts/csharp-3/" />
<meta property="article:published_time" content="2019-10-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-10-19T00:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="C# 3 - the One with LINQ"/>
<meta name="twitter:description" content="C# 3 was released in November 2007 with Visual Studio 2008. Pretty much all the features introduced build into LINQ. I can&rsquo;t cover them all so I&rsquo;ll just look to cover implicit typing, object and collection initializers, anonymous types and finish with a quick look at usage of LINQ.
Implicit Typing Say we have a big ol&#39; Dictionary initialization:
Dictionary&lt;int, List&lt;string&gt;&gt; mapping = new Dictionary&lt;int, List&lt;string&gt;&gt;();You may be thinking to yourself &ldquo;geez that takes up a load of room&rdquo;."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://ashmidgley.github.io/css/style-classic.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://ashmidgley.github.io/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/posts">All posts</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://ashmidgley.github.io/posts/csharp-2/">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://ashmidgley.github.io/posts/csharp-4/">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&text=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&is_video=false&description=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=C%23%203%20-%20the%20One%20with%20LINQ&body=Check out this article: https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-stumbleupon " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-digg " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&name=C%23%203%20-%20the%20One%20with%20LINQ&description=C%23%203%20was%20released%20in%20November%202007%20with%20Visual%20Studio%202008.%20Pretty%20much%20all%20the%20features%20introduced%20build%20into%20LINQ.%20I%20can%26rsquo%3bt%20cover%20them%20all%20so%20I%26rsquo%3bll%20just%20look%20to%20cover%20implicit%20typing%2c%20object%20and%20collection%20initializers%2c%20anonymous%20types%20and%20finish%20with%20a%20quick%20look%20at%20usage%20of%20LINQ.%0aImplicit%20Typing%20Say%20we%20have%20a%20big%20ol%27%20Dictionary%20initialization%3a%0aDictionary%26lt%3bint%2c%20List%26lt%3bstring%26gt%3b%26gt%3b%20mapping%20%3d%20new%20Dictionary%26lt%3bint%2c%20List%26lt%3bstring%26gt%3b%26gt%3b%28%29%3b%0dYou%20may%20be%20thinking%20to%20yourself%20%26ldquo%3bgeez%20that%20takes%20up%20a%20load%20of%20room%26rdquo%3b.">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&t=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        C# 3 - the One with LINQ
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2019-10-19 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-10-19</time>
          
        </div>
        
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <p>C# 3 was released in November 2007 with Visual Studio 2008. Pretty much all the features introduced build into LINQ. I can&rsquo;t cover them all so I&rsquo;ll just look to cover <strong>implicit typing</strong>, <strong>object and collection initializers</strong>, <strong>anonymous types</strong> and finish with a quick look at usage of <strong>LINQ</strong>.</p>
<h4 id="implicit-typing">Implicit Typing</h4>
<p>Say we have a big ol' Dictionary initialization:</p>
<pre><code>Dictionary&lt;int, List&lt;string&gt;&gt; mapping = new Dictionary&lt;int, List&lt;string&gt;&gt;();
</code></pre><p>You may be thinking to yourself &ldquo;geez that takes up a load of room&rdquo;. I agree. Implicit typing allows us to use the <code>var</code> keyword to infer the type from the right hand side of the statement.</p>
<pre><code>var mapping = new Dictionary&lt;int, List&lt;string&gt;&gt;();
</code></pre><p>You can also apply this sort of typing to arrays. The below statements are equivalent.</p>
<pre><code>int[] array = new int[] { 1, 2, 3 };
var array = new[] { 1, 2, 3 };
</code></pre><h4 id="object-and-collection-initializers">Object and Collection Initializers</h4>
<h5 id="collection">Collection</h5>
<p>Collection&rsquo;s previously had to be initializing before we could manually add each value one by one:</p>
<pre><code>var members = new List&lt;string&gt;();
members.Add(&quot;Space Monkey #1&quot;);
members.Add(&quot;Space Monkey #2&quot;);
members.Add(&quot;Space Monkey #3&quot;);
</code></pre><p>Collection initializers allow us to do the same in a single statement:</p>
<pre><code>var members = new List&lt;string&gt; { &quot;Space Monkey #1, &quot;Space Monkey #2&quot;, &quot;Space Monkey #3&quot; };
</code></pre><h5 id="object">Object</h5>
<p>Say we have an object type Fight:</p>
<pre><code>public struct Fight {
    public int Id;
    public string MemberOne;
    public string MemberTwo;
    public List&lt;string&gt; Rules;
}
</code></pre><p>Previously we would have to initialize the object like this:</p>
<pre><code>Fight fight = new Fight();
fight.Id = 1;
fight.MemberOne = &quot;Big Bob&quot;;
fight.MemberOne = &quot;Angel Face&quot;;
List&lt;string&gt; rules = new List&lt;string&gt;();
rules.Add(&quot;The first rule about...&quot;);
fight.Rules = rules;
</code></pre><p>Proper tedious. Now we can just do this:</p>
<pre><code>Fight fight = new Fight 
{
    Id = 1,
    MemberOne = &quot;Big Bob&quot;,
    MemberTwo = &quot;Angel Face&quot;,
    Rules = new List&lt;string&gt; { &quot;The first rule about...&quot; }
};
</code></pre><p>Pretty simple change but has a huge impact on readability.</p>
<h4 id="anonymous-types">Anonymous Types</h4>
<p>Sometimes when creating local variables, we can&rsquo;t be bothered specifying the value types. Anonymous types let the compiler do the dirty work for you.</p>
<pre><code>var player = new
{
    Username = &quot;Zero Cool&quot;,
    Score = 420
};

Console.WriteLine(player.Username.Substring(0, 4));
Console.WriteLine(player.Score + 5);

// Output
Zero
425
</code></pre><p>The compiler recognises that Username is type string so we can use the Substring method on it. It recognises Score is type int so it allows us to add a value to it. Pretty neat huh.</p>
<p>Mr. Compiler can also infer variable names in anonymous types. This is called projection initialization.</p>
<pre><code>var flattenedItem = new
{
    player.Username, // haven't specified the variable name eg: Username = 
    player.Score
};

Console.WriteLine($&quot;Flattened item: Username = {flattenedItem.Username}, Score = {flattenedItem.Score}.&quot;);

// Output
Flattened item: Username = Zero Cool, Score = 420.
</code></pre><h4 id="linq">LINQ</h4>
<p>LINQ stands for Language Integrated Query. It allows us to query against strongly typed collections of objects using language keywords. There are 2 types of syntax for LINQ queries: lambda and query.</p>
<pre><code>string[] words = { &quot;His&quot;, &quot;name&quot;, &quot;was&quot;, &quot;Robert&quot;, &quot;Paulson&quot; };

// Lambda syntax
var shortWords = words
    .Where(word =&gt; word.length &lt; 4);

// Query syntax
var shortWords =
    from word in words
    where word.length &lt; 4;
</code></pre><p>I personally prefer the lambda syntax but I&rsquo;m sure there are plenty out there who prefer the structure of query syntax. LINQ is arguably the most important feature introduced into C#.</p>
<h5 id="useful-keywords">Useful Keywords</h5>
<p><strong><code>Where</code></strong> filters elements in the collection based on boolean expressions. The below only returns elements that are less than 4 characters in length.</p>
<pre><code>var query = words
    .Where(word =&gt; word.Length &lt; 4);

// Result
[ 'His', 'was' ]
</code></pre><p><strong><code>Select</code></strong> specifies the type and shape of the returned elements. The below returns the elements in upper case format.</p>
<pre><code>var query = words
    .Select(word =&gt; word.ToUpper());

// Result
[ 'HIS', 'NAME', 'WAS', 'ROBERT', 'PAULSON' ]
</code></pre><p><strong><code>OrderBy</code></strong> sorts the results in order. By default it will order in ascending order as seen below.</p>
<pre><code>var ascending = words
    .OrderBy(word =&gt; word);

// Result
[ 'His', 'name', 'Paulson', 'Robert', 'was' ]
</code></pre><p>You can specify descending order by using <code>OrderByDescending</code>.</p>
<pre><code>var descending = words
    .OrderByDescending(word =&gt; word);

// Result
[ 'was', 'Robert', 'Paulson', 'name', 'His' ]
</code></pre><p>You can also order on a custom option by adjusting the element in the expression. Below we are ordering on the first character in each word.</p>
<pre><code>var customOrder = words
    .OrderBy(word =&gt; word[0]);

// Result
[ 'His', 'Paulson', 'Robert', 'name', 'was' ]
</code></pre><p>If you&rsquo;re interested in checking out the rest have a gander <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/query-keywords">here</a>.</p>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/posts">All posts</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&text=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&is_video=false&description=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=C%23%203%20-%20the%20One%20with%20LINQ&body=Check out this article: https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&title=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-digg fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&name=C%23%203%20-%20the%20One%20with%20LINQ&description=C%23%203%20was%20released%20in%20November%202007%20with%20Visual%20Studio%202008.%20Pretty%20much%20all%20the%20features%20introduced%20build%20into%20LINQ.%20I%20can%26rsquo%3bt%20cover%20them%20all%20so%20I%26rsquo%3bll%20just%20look%20to%20cover%20implicit%20typing%2c%20object%20and%20collection%20initializers%2c%20anonymous%20types%20and%20finish%20with%20a%20quick%20look%20at%20usage%20of%20LINQ.%0aImplicit%20Typing%20Say%20we%20have%20a%20big%20ol%27%20Dictionary%20initialization%3a%0aDictionary%26lt%3bint%2c%20List%26lt%3bstring%26gt%3b%26gt%3b%20mapping%20%3d%20new%20Dictionary%26lt%3bint%2c%20List%26lt%3bstring%26gt%3b%26gt%3b%28%29%3b%0dYou%20may%20be%20thinking%20to%20yourself%20%26ldquo%3bgeez%20that%20takes%20up%20a%20load%20of%20room%26rdquo%3b.">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fashmidgley.github.io%2fposts%2fcsharp-3%2f&t=C%23%203%20-%20the%20One%20with%20LINQ">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2020  Ash Midgley 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/posts">All posts</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>



</html>
